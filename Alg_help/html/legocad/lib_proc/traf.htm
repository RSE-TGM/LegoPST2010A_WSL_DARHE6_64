<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<META NAME="Generator" CONTENT="Microsoft Word 97">
<TITLE>MODULE TRAF</TITLE>
<META NAME="Template" CONTENT="C:\Microsoft Office\Office\html.dot">
</HEAD>
<BODY>

<B><FONT FACE="Arial, helvetica" SIZE=4><P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_summ"></A>MODULE TRAF&#9;CARD 0</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">Summary</P>
</B></I><P ALIGN="JUSTIFY">&nbsp;</P>
</FONT><P ALIGN="JUSTIFY"><A HREF="#lg_libproc_TRAF_A"><U><FONT FACE="Arial, helvetica" SIZE=5 COLOR="#0000ff">model generalities</U></FONT></A></P>
<P ALIGN="JUSTIFY"><A HREF="#lg_libproc_TRAF_B"><U><FONT FACE="Arial, helvetica" SIZE=5 COLOR="#0000ff">topological data</U></FONT></A></P>
<P ALIGN="JUSTIFY"><A HREF="#lg_libproc_TRAF_C"><U><FONT FACE="Arial, helvetica" SIZE=5 COLOR="#0000ff">physical and geometrical data</U></FONT></A></P>
<P ALIGN="JUSTIFY"><A HREF="#lg_libproc_TRAF_D"><U><FONT FACE="Arial, helvetica" SIZE=5 COLOR="#0000ff">module variables initialization</U></FONT></A></P>
<P ALIGN="JUSTIFY"><A HREF="#lg_libproc_TRAF_E"><U><FONT FACE="Arial, helvetica" SIZE=5 COLOR="#0000ff">user's subprograms</U></FONT></A></P>
<P ALIGN="JUSTIFY"><A HREF="#lg_libproc_TRAF_F"><U><FONT FACE="Arial, helvetica" SIZE=5 COLOR="#0000ff">residuals</U></FONT></A></P>
<P ALIGN="JUSTIFY"><A HREF="#lg_libproc_TRAF_G"><U><FONT FACE="Arial, helvetica" SIZE=5 COLOR="#0000ff">module subprograms</U></FONT></A></P>
<P ALIGN="JUSTIFY"><A HREF="#lg_libproc_TRAF_H"><U><FONT FACE="Arial, helvetica" SIZE=5 COLOR="#0000ff">test cases</U></FONT></A></P>
<FONT FACE="Arial, helvetica"><P ALIGN="JUSTIFY">&nbsp;</P>
</FONT><B><FONT FACE="Arial, helvetica" SIZE=4><P>&nbsp;</P>
<P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_A"></A>MODULE TRAF&#9;CARD A</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">Model Generalities</P>
</B></I><P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="CENTER">THREE-PHASE TRANSFORMER</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">The TRAF module simulates the operation of a three-phase variable ratio transformer, obtained acting on the number of high voltage turns or on the primary.</P>
<P ALIGN="JUSTIFY">The module employs the representation of a phase of the transformer with a gamma p circuit. Traverse parameters consist of the equivalent resistance for losses in iron and of the magnetization reactance. Longitudinal parameters consist of the equivalent short circuit impedance brought to the primary. The value of said impedance depends on the transformation ratio.</P>
<P ALIGN="JUSTIFY">The module can simulate a transformer of any capacity and having any type of primary and secondary winding, since it refers to an equivalent equipment with both star windings.</P>
<P ALIGN="JUSTIFY">Electrical parameters of the equivalent circuit employed for the module solution are determined by nameplate data characteristics for a transformer.</P>
<P ALIGN="JUSTIFY">As far as use of TRAF is concerned, there is no particular warning, except for the basic network voltage which must be different for the two sides of the transformer, equal to the rated values of the primary and secondary voltage of the transformer itself.</P>
<P ALIGN="JUSTIFY">A basic voltage different from the rated one, is not possible.</P>
<P ALIGN="JUSTIFY">The transformer output frequency (OMTU) can be used to determine the condition of the switches of the transformer itself. In fact it is set equal to zero in the case one of the two switches is open. Duly connecting the input-output frequency of transformer and line modules connected in cascade, the output frequency can be used ad logic variable tied to the upstream supply state (OMTU=0 &lt;--&gt; no upstream supply).</P>
<P ALIGN="JUSTIFY">This applies in case of radial network only.</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">In the mathematical model adopted the following hypothesis are assumed:</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">a transformer is considered, having the connection of primary phases equal to that of secondary ones, therefore the phase shifting between primary and secondary voltage depending on the transformer unit is not considered;</P>
<P ALIGN="JUSTIFY">non linearity introduced by iron is neglected;</P>
<P ALIGN="JUSTIFY">it is considered the variable ratio under load transformer, with turn variation at primary is considered;</P>
<P ALIGN="JUSTIFY">the star equivalent transformer is considered;</P>
<P ALIGN="JUSTIFY">derivatives of the primary and secondary currents with respect to time are considered, that is it is assumed that transient states take place through passage, at each integration step, for a sinusoidal state condition: In this way the mathematical model is merely algebraic.</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">As a consequence of this last hypothesis it is not possible to detect no-load start up transient states. These can be obtained entering the current state variables and the transformer parasitic capacity together with the voltage state variable applied to the same.</P>
<P ALIGN="JUSTIFY">The equations describing the equivalent circuit are used in the transformer mathematical model containing also the expressions of its losses.</P>
<P ALIGN="JUSTIFY">In the transformer model, two internal switches are introduced through conditions on the equation system.</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">RESIDUALS</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">If the upstream switch is closed and the downstream switch is closed, then:</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">1.&#9;Equation describing the real current coming out from side 1, according to the real auxiliary current and to real current shunt from no-&#9;load impedance.</P>
<P ALIGN="JUSTIFY">2.&#9;Equation describing the imaginary current coming out from side 1, according to the imaginary auxiliary current and to real current &#9;shunt from no-load impedance.</P>
<P ALIGN="JUSTIFY">3.&#9;Equation describing the real current coming out from side 2, according to the real auxiliary current.</P>
<P ALIGN="JUSTIFY">4.&#9;Equation describing the imaginary current coming out from side 2, according to the imaginary auxiliary current.</P>
<P ALIGN="JUSTIFY">5.&#9;Equation determining the active power coming out from side 2</P>
<P ALIGN="JUSTIFY">6.&#9;Equation determining the reactive power coming out from side 2</P>
<P ALIGN="JUSTIFY">7.&#9;Equation determining the percent value of the current module side 1 relevant to the module of the equipment rated current.</P>
<P ALIGN="JUSTIFY">8.&#9;Equation determining the percent value of the current module side 2 relevant to the module of the equipment rated current.</P>
<P ALIGN="JUSTIFY">9.&#9;Equation determining the transformer joule losses.</P>
<P ALIGN="JUSTIFY">10.&#9;Equation determining losses in iron calculates through an equivalent resistance, to which voltage at transformer terminals &#9;relevant to the side it is supplied from, is applied.</P>
<P ALIGN="JUSTIFY">11.&#9;Equation necessary to introduce the real voltage side 1 at transformer terminals, different from bus bar ones should the&#9;equipment &#9;switch be open.</P>
<P ALIGN="JUSTIFY">12.&#9;Equation necessary to introduce the imaginary voltage side 1 at transformer terminals, different from bus bar one, should the &#9;equipment switch be open.</P>
<P ALIGN="JUSTIFY">13.&#9;Equation necessary to introduce the real voltage side 2 at transformer terminals, different from bus bar one should the &#9;equipment &#9;switch be open.</P>
<P ALIGN="JUSTIFY">14.&#9;Equation necessary to introduce the imaginary voltage side 2 at transformer terminals, different from bus bar one should the&#9;equipment switch be open.</P>
<P ALIGN="JUSTIFY">15.&#9;Equation necessary to introduce equality between frequency of supply and output from transformer, should both the switches &#9;be &#9;closed (note 1).</P><DIR>
<DIR>

<P ALIGN="JUSTIFY">&nbsp;</P></DIR>
</DIR>

<P ALIGN="JUSTIFY">Otherwise, if the upstream switch is closed and the downstream one is open, then:</P><DIR>
<DIR>

<P ALIGN="JUSTIFY">&nbsp;</P></DIR>
</DIR>

<P ALIGN="JUSTIFY">1.&#9;Equation describing the real current coming out from side 1, determined only by the real current shunt from no-load &#9;impedance.</P>
<P ALIGN="JUSTIFY">2.&#9;Equation describing the imaginary current coming out from side 1, determined only by the real current shunt from no-load &#9;impedance.</P>
<P ALIGN="JUSTIFY">3.&#9;Equation nullifying the real current coming out from side 2.</P>
<P ALIGN="JUSTIFY">4.&#9;Equation nullifying the imaginary current coming out from side 2</P>
<P ALIGN="JUSTIFY">5.&#9;Equation nullifying the active power coming out from side 2</P>
<P ALIGN="JUSTIFY">6.&#9;Equation nullifying the reactive power coming out from side 2</P>
<P ALIGN="JUSTIFY">7.&#9;Equation determining the percent value of the current module side 1 relevant to the module of the equipment rated current. It is &#9;the percent module of current absorbed in no-load conditions.</P>
<P ALIGN="JUSTIFY">8.&#9;Equation nullifying the percent value of the current module side 2 relevant to the module of the equipment rated current.</P>
<P ALIGN="JUSTIFY">9.&#9;Equation nullifying the transformer joule losses.</P>
<P ALIGN="JUSTIFY">10.&#9;Equation determining losses in iron calculates through an equivalent resistance, to which voltage at transformer terminals &#9;relevant to the side it is supplied from, is applied.</P>
<P ALIGN="JUSTIFY">11.&#9;Equation necessary to introduce the real voltage side 1 at transformer terminals, different from bus bar one should the &#9;equipment &#9;switch be open.</P>
<P ALIGN="JUSTIFY">12.&#9;Equation necessary to introduce the imaginary voltage side 1 at transformer terminals, different from bus bar one should the &#9;equipment switch be open.</P>
<P ALIGN="JUSTIFY">13.&#9;Equation necessary to introduce the real voltage side 2 at transformer terminals, different from bus bar ones should the &#9;equipment switch be open. In this case the voltage side 2 is equal to the real voltage in no-load conditions.</P>
<P ALIGN="JUSTIFY">14.&#9;Equation necessary to introduce the imaginary voltage side 2 at transformer terminals, different from bus bar one should the &#9;equipment switch be open. In this case the voltage side 2 is equal to the imaginary voltage in no-load conditions.</P>
<P ALIGN="JUSTIFY">15.&#9;Equation necessary to nullify the frequency at output being a switch open (note 1).</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">Otherwise, if the upstram switch is open and the downstream switch is closed:</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">1.&#9;Equation nullifying the real current coming out from side 1.</P>
<P ALIGN="JUSTIFY">2.&#9;Equation nullifying the imaginary current coming out from side 1.</P>
<P ALIGN="JUSTIFY">3.&#9;Equation describing the real current coming out from side 2 determined only by the real current shunt from the secondary no-&#9;load &#9;impedance.</P>
<P ALIGN="JUSTIFY">4.&#9;Equation describing the imaginary current coming out from side 2 determined only by the imaginary current shunt from the &#9;secondary no-load impedance.</P>
<P ALIGN="JUSTIFY">5.&#9;Equation calculating the active power coming out from side 2 determined by losses in no-load conditions.</P>
<P ALIGN="JUSTIFY">6.&#9;Equation calculating the reactive power coming out from side 2 determined by losses in no-load conditions.</P>
<P ALIGN="JUSTIFY">7.&#9;Equation nullifying the percent value of the current module side 2 relevant to the equipment rated current module.</P>
<P ALIGN="JUSTIFY">8.&#9;Equation determining the percent value of the current module side 2 relevant to the module of the equipment rated current. It is &#9;the percent module of current absorbed in no-load conditions.</P>
<P ALIGN="JUSTIFY">9.&#9;Equation nullifying the transformer joule losses.</P>
<P ALIGN="JUSTIFY">10.&#9;Equation determining losses in iron, calculated through an equivalent resistance, to which voltage at the transformer terminals &#9;is &#9;applied, relevant to the side it is supplied from.</P>
<P ALIGN="JUSTIFY">11.&#9;Equation necessary to introduce the real voltage side 1 at transformer terminals, different from bus bar one should the &#9;equipment &#9;switch be open. In this case the voltage side 1 is equal to the real voltage in no-load conditions.</P>
<P ALIGN="JUSTIFY">12.&#9;Equation necessary to introduce the imaginary voltage side 1 at transformer terminals, different from bus bar one should the &#9;equipment switch be open. In this case the voltage side 1 is equal to the imaginary voltage in no-load conditions.</P>
<P ALIGN="JUSTIFY">13.&#9;Equation necessary to introduce the real voltage side 2 at transformer terminals, different from bus bar ones should the &#9;equipment switch be open.</P>
<P ALIGN="JUSTIFY">14.&#9;Equation necessary to introduce the imaginary voltage side 2 at transformer terminals, different from bus bar one should the &#9;equipment switch be open.</P>
<P ALIGN="JUSTIFY">15.&#9;Equation necessary to nullify the frequency at output being a switch open (note 1).</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">Otherwise, if the upstream switch is open and the downstream switch is open:</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">1.&#9;Equation nullifying the real current coming out from side 1.</P>
<P ALIGN="JUSTIFY">2.&#9;Equation nullifying the imaginary current coming out from side 1.</P>
<P ALIGN="JUSTIFY">3.&#9;Equation nullifying the real current coming out from side 2.</P>
<P ALIGN="JUSTIFY">4.&#9;Equation nullifying the imaginary current coming out from side 2.</P>
<P ALIGN="JUSTIFY">5.&#9;Equation calculating the active power coming out from side.</P>
<P ALIGN="JUSTIFY">6.&#9;Equation calculating the reactive power coming out from side 2.</P>
<P ALIGN="JUSTIFY">7.&#9;Equation nullifying the percent value of the current module side 1 relevant to the equipment rated current module.</P>
<P ALIGN="JUSTIFY">8.&#9;Equation nullifying the percent value of the current module side 1 relevant to the module of the equipment rated current.</P>
<P ALIGN="JUSTIFY">9.&#9;Equation nullifying the transformer joule losses.</P>
<P ALIGN="JUSTIFY">10.&#9;Equation nullifying joule losses in iron.</P>
<P ALIGN="JUSTIFY">11.&#9;Equation necessary to introduce the real voltage side 1 at transformer terminals, different from bus bar one should the &#9;equipment &#9;switch be open. In this case the voltage side 1 is equal to zero</P>
<P ALIGN="JUSTIFY">12.&#9;Equation necessary to introduce the imaginary voltage side 1 at transformer terminals, different from bus bar one should the &#9;equipment switch be open. In this case the voltage side 1 is equal to zero.</P>
<P ALIGN="JUSTIFY">13.&#9;Equation necessary to introduce the real voltage side 2 at transformer terminals, different from bus bar ones should the &#9;equipment switch be open. In this case the voltage side 2 is equal to zero.</P>
<P ALIGN="JUSTIFY">14.&#9;Equation necessary to introduce the imaginary voltage side 2 at transformer terminals, different from bus bar one should the &#9;equipment switch be open. In this case the voltage side 2 is equal to zero.</P>
<P ALIGN="JUSTIFY">15.&#9;Equation necessary to nullify the frequency at output being both switches open (note 1).</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">Note 1</P>
<P ALIGN="JUSTIFY">The transformer output frequency (OMTU) can be used to determine the state of switches of the transformer itself. In fact it is assumed equal to zero should one of the two switches at least be open. Adequately connecting input-output frequencies of the transformer and line modules connected in cascade, the output frequency can be used as logic variable tied to the upstream supply state (OMTU=0 &lt;--&gt; no upstream supply).</P>
<P ALIGN="JUSTIFY">This applies in case of radial network only.</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<B><P>&nbsp;</P>
</FONT><FONT FACE="Arial, helvetica" SIZE=4><P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_B"></A>MODULE TRAF&#9;CARD B</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">Topological data</P>
</B></I></FONT><P ALIGN="JUSTIFY">&nbsp;</P>
<FONT FACE="Arial, helvetica"><P ALIGN="CENTER">INPUT - OUTPUT SCHEME</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
</FONT><P ALIGN="JUSTIFY"><IMG SRC="Image409.gif" WIDTH=382 HEIGHT=385></P>
<FONT FACE="Arial, helvetica"><P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="CENTER">PHYSICAL MEANING OF THE MODULE INPUT - OUTPUT VARIABLES</P>
</FONT><P ALIGN="JUSTIFY">&nbsp;</P>
<FONT FACE="Arial, helvetica"><P ALIGN="JUSTIFY">[V]&#9;VR1T&#9;&#9;supply phase real voltage side 1</P>
<P ALIGN="JUSTIFY">[V]&#9;VX1T&#9;&#9;supply phase imaginary voltage side 1</P>
<P ALIGN="JUSTIFY">[V]&#9;VR2T&#9;&#9;supply phase real voltage side 2</P>
<P ALIGN="JUSTIFY">[V]&#9;VX2T&#9;&#9;supply phase imaginary voltage side 2</P>
<P ALIGN="JUSTIFY">[%]&#9;ETA0&#9;&#9;voltage variation side 2 / voltage max. variation side 2</P>
<P ALIGN="JUSTIFY">[ ]&#9;AIN1&#9;&#9;state of switch side 1 (1 = on)</P>
<P ALIGN="JUSTIFY">[ ]&#9;AIN2&#9;&#9;state of switch side 2 (1 = on)</P>
<P ALIGN="JUSTIFY">[rad/s]&#9;OMTI&#9;&#9;transformer input frequency</P>
<P ALIGN="JUSTIFY">[A]&#9;IRT1&#9;&#9;real current coming out from side 1</P>
<P ALIGN="JUSTIFY">[A] &#9;IXT1&#9;&#9;imaginary current coming out from side 1</P>
<P ALIGN="JUSTIFY">[A] &#9;IRT2&#9;&#9;real current coming out from side 2</P>
<P ALIGN="JUSTIFY">[A]&#9;IXT2&#9;&#9;imaginary current coming out from side 2</P>
<P ALIGN="JUSTIFY">[W]&#9;QPTR&#9;&#9;active power output from side 2</P>
<P ALIGN="JUSTIFY">[VAR]&#9;QQTR&#9;&#9;reactive power coming out from side 2</P>
<P ALIGN="JUSTIFY">[%]&#9;IMT1&#9;&#9;absorbed current module / rated current module - side 1 </P>
<P ALIGN="JUSTIFY">[%]&#9;IMT2&#9;&#9;absorbed current module / rated current module - side 2 </P>
<P ALIGN="JUSTIFY">[W]&#9;QPCU&#9;&#9;losses in copper</P>
<P ALIGN="JUSTIFY">[W]&#9;QPFE&#9;&#9;losses in iron</P>
<P ALIGN="JUSTIFY">[V]&#9;VR11&#9;&#9;phase real voltage at terminals side 1</P>
<P ALIGN="JUSTIFY">[V]&#9;VX11&#9;&#9;phase imaginary voltage at terminals side 1</P>
<P ALIGN="JUSTIFY">[V]&#9;VR22&#9;&#9;phase real voltage at terminals side 2</P>
<P ALIGN="JUSTIFY">[V]&#9;VX22&#9;&#9;phase imaginary voltage at terminals side 2</P>
<P ALIGN="JUSTIFY">[rad/s]&#9;OMTU&#9;&#9;transformer output frequency</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<B><P>&nbsp;</P>
</FONT><FONT FACE="Arial, helvetica" SIZE=4><P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_C"></A>MODULE TRAF&#9;CARD C</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">Physical and Geometrical Data</P>
</B></I><P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">Besides initial values of input and output variables of the TRAF module, whose meaning has been defined in card B, the user must assign the following set of data to complete the input required by the module:</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">[V]&#9;VBASE1&#9;basic voltage = rated voltage between lines side 1</P>
<P ALIGN="JUSTIFY">[V]&#9;VBASE2&#9;basic voltage = rated voltage between lines side 2</P>
<P ALIGN="JUSTIFY">[%]&#9;VN1MX&#9;max variation of number of turns side 1 in percent</P>
<P ALIGN="JUSTIFY">[%]&#9;VCC&#9;&#9;percent short-circuit voltage</P>
<P ALIGN="JUSTIFY">[W]&#9;QBASE&#9;network basic power</P>
<P ALIGN="JUSTIFY">[W]&#9;QNTRA&#9;transformer rated power</P>
<P ALIGN="JUSTIFY">[%]&#9;QPFER&#9;percent losses in iron</P>
<P ALIGN="JUSTIFY">[%]&#9;QPCC&#9;percent short-circuit power calculated at short-circuit voltage</P>
<P ALIGN="JUSTIFY">[%]&#9;I0&#9;&#9;percent current in no-load conditions</P>
<P ALIGN="JUSTIFY">[rad/s]&#9;OMBA&#9;basic frequency</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
</FONT><B><FONT FACE="Arial, helvetica" SIZE=4><P>&nbsp;</P>
<P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_D"></A>MODULE TRAF&#9;CARD D</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">Module Variables Initialization</P>
</B></I><P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">For the calculation of the steady state of the module containing the TRAF module only, make all module inputs known except for an input voltage, e.g. VX1T and an output voltage VR2T, and make known the real current side 1 (IRT1) and the imaginary current side 2 (IXT2). Attention shall be paid to the sign of currents with respect to the sign of the real voltage set since the generator set coding has been selected for currents. It is not recommended to make known the QPTR,QQTR,QPST,QPFE variables clearing some model inputs when far from the desired steady state condition.</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">Powers output are positive if the energy flow runs from side 1 towards side 2. As for the reactive power, this applies only if the load downstream the side 2 is inductive. </P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<B><P>&nbsp;</P>
</FONT><FONT FACE="Arial, helvetica" SIZE=4><P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_E"></A>MODULE TRAF&#9;CARD E</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">User's Subprograms</P>
</B></I><P ALIGN="JUSTIFY">&nbsp;</P>
<B><P>&nbsp;</P>
</FONT><FONT FACE="Arial, helvetica" SIZE=4><P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_F"></A>MODULE TRAF&#9;CARD F</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">Residuals</P>
</B></I><P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">The equations forming the module mathematical nodel, given in card A2 provide the following residuals:</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
</FONT><B><FONT FACE="Arial, helvetica" SIZE=2><P ALIGN="JUSTIFY">IF (LIN1 .AND. LIN2) THEN</P>
<P ALIGN="JUSTIFY">RNI(1) = IRT1+(I0R1+IAR)*CT</P>
<P ALIGN="JUSTIFY">RNI(2) = IXT1+(I0X1+IAX)*CT</P>
<P ALIGN="JUSTIFY">RNI(3) = IRT2-AM*IAR*CT</P>
<P ALIGN="JUSTIFY">RNI(4) = IXT2-AM*IAX*CT</P>
<P ALIGN="JUSTIFY">RNI(5) = QPTR-VR2T*IRT2-VX2T*IXT2</P>
<P ALIGN="JUSTIFY">RNI(6) = QQTR-VX2T*IRT2+VR2T*IXT2</P>
<P ALIGN="JUSTIFY">RNI(7) = IMT1-SQRT(3.*((IRT1/CT)**2.+(IXT1/CT)**2.))</P>
<P ALIGN="JUSTIFY">RNI(8) = IMT2-SQRT(3.*((IRT2/CT)**2.+(IXT2/CT)**2.))</P>
<P ALIGN="JUSTIFY">RNI(9) = QPCU-RC*(IMT1**2.)/3.</P>
<P ALIGN="JUSTIFY">RNI(10) = QPFE-(VR1T**2.+VX1T**2.)*QPFER</P>
<P ALIGN="JUSTIFY">RNI(11) = VR11-VR1T</P>
<P ALIGN="JUSTIFY">RNI(12) = VX11-VX1T</P>
<P ALIGN="JUSTIFY">RNI(13) = VR22-VR2T</P>
<P ALIGN="JUSTIFY">RNI(14) = VX22-VX2T</P>
<P ALIGN="JUSTIFY">RNI(15) = OMTU-OMTI</P>
<P ALIGN="JUSTIFY">ELSE IF (LIN1 .AND. .NOT. LIN2) THEN</P>
<P ALIGN="JUSTIFY">RNI(1) = IRT1+I0R1*CT</P>
<P ALIGN="JUSTIFY">RNI(2) = IXT1+I0X1*CT</P>
<P ALIGN="JUSTIFY">RNI(3) = IRT2</P>
<P ALIGN="JUSTIFY">RNI(4) = IXT2</P>
<P ALIGN="JUSTIFY">RNI(5) = QPTR</P>
<P ALIGN="JUSTIFY">RNI(6) = QQTR</P>
<P ALIGN="JUSTIFY">RNI(7) = IMT1-SQRT(3.*((IRT1/CT)**2.+(IXT1/CT)**2.))</P>
<P ALIGN="JUSTIFY">RNI(8) = IMT2</P>
<P ALIGN="JUSTIFY">RNI(9) = QPCU</P>
<P ALIGN="JUSTIFY">RNI(10) = QPFE-(VR1T**2.+VX1T**2.)*QPFER</P>
<P ALIGN="JUSTIFY">RNI(11) = VR11-VR1T</P>
<P ALIGN="JUSTIFY">RNI(12) = VX11-VX1T</P>
<P ALIGN="JUSTIFY">RNI(13) = VR22-VR1T/AM</P>
<P ALIGN="JUSTIFY">RNI(14) = VX22-VX1T/AM</P>
<P ALIGN="JUSTIFY">RNI(15) = OMTU</P>
<P ALIGN="JUSTIFY">ELSE IF (.NOT. LIN1 .AND. LIN2) THEN</P>
<P ALIGN="JUSTIFY">RNI(1) = IRT1</P>
<P ALIGN="JUSTIFY">RNI(2) = IXT1</P>
<P ALIGN="JUSTIFY">RNI(3) = IRT2+I0R2*CT</P>
<P ALIGN="JUSTIFY">RNI(4) = IXT2+I0X2*CT</P>
<P ALIGN="JUSTIFY">RNI(5) = QPTR</P>
<P ALIGN="JUSTIFY">RNI(6) = QQTR</P>
<P ALIGN="JUSTIFY">RNI(7) = IMT1</P>
<P ALIGN="JUSTIFY">RNI(8) = IMT2-SQRT(3.*((IRT2/CT)**2.+(IXT2/CT)**2.))</P>
<P ALIGN="JUSTIFY">RNI(9) = QPCU</P>
<P ALIGN="JUSTIFY">RNI(10) = QPFE-(VR2T**2.+VX2T**2.)*QPFER</P>
<P ALIGN="JUSTIFY">RNI(11) = VR11-AM*VR2T</P>
<P ALIGN="JUSTIFY">RNI(12) = VX11-AM*VX2T</P>
<P ALIGN="JUSTIFY">RNI(13) = VR22-VR2T</P>
<P ALIGN="JUSTIFY">RNI(14) = VX22-VX2T</P>
<P ALIGN="JUSTIFY">RNI(15) = OMTU</P>
<P ALIGN="JUSTIFY">ELSE</P>
<P ALIGN="JUSTIFY">RNI(1) = IRT1</P>
<P ALIGN="JUSTIFY">RNI(2) = IXT1</P>
<P ALIGN="JUSTIFY">RNI(3) = IRT2</P>
<P ALIGN="JUSTIFY">RNI(4) = IXT2</P>
<P ALIGN="JUSTIFY">RNI(5) = QPTR</P>
<P ALIGN="JUSTIFY">RNI(6) = QQTR</P>
<P ALIGN="JUSTIFY">RNI(7) = IMT1</P>
<P ALIGN="JUSTIFY">RNI(8) = IMT2</P>
<P ALIGN="JUSTIFY">RNI(9) = QPCU</P>
<P ALIGN="JUSTIFY">RNI(10) = QPFE</P>
<P ALIGN="JUSTIFY">RNI(11) = VR11</P>
<P ALIGN="JUSTIFY">RNI(12) = VX11</P>
<P ALIGN="JUSTIFY">RNI(13) = VR22</P>
<P ALIGN="JUSTIFY">RNI(14) = VX22</P>
<P ALIGN="JUSTIFY">RNI(15) = OMTU</P>
<P ALIGN="JUSTIFY">ENDIF</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
</FONT><FONT FACE="Arial, helvetica" SIZE=4><P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_G"></A>MODULE TRAF&#9;CARD G</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">Module subprograms</P>
</B></I></FONT><P ALIGN="JUSTIFY">&nbsp;</P>
<FONT FACE="Arial, helvetica"><P ALIGN="JUSTIFY">SUBROUTINE TRAF2&#9;(IFUN,VAR,MX1,IV1,IV2,XYU,DATI,ID1,ID2,IBL1,IBL2,</P>
<P ALIGN="JUSTIFY">$&#9;&#9;&#9;&#9;IER,CNXYU,TOL)</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">SUBROUTINE TRAFC1&#9;(IFUN,AJAC,MX5,IXYU,XYU,IPD,DATI,RNI,IBL1,IBL2)</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">SUBROUTINE TRAFJC&#9;(AJAC,MX5,IXYU,XYU,DATI,RNI,IBL1,IBL2)</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">SUBROUTINE TRAF&#9;(IFUN,IXYU,XYU,IPD,DATI,RNI)</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">SUBROUTINE TRAF3&#9;(IFO,IOB,DEBL)</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">SUBROUTINE TRAF4&#9;(IOB,MOD)</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">SUBROUTINE TRAFD1&#9;(BLOCCO,NEQUAZ,NSTATI,NUSCIT,NINGRE,SYMVAR,XYU,</P>
<P ALIGN="JUSTIFY">$&#9;&#9;&#9;&#9;IXYU,DATI,IPD,SIGNEQ,UNITEQ,COSNOR,ITOPVA,MXT)</P>
<P ALIGN="JUSTIFY">&nbsp;</P>
<B><P>&nbsp;</P>
</FONT><FONT FACE="Arial, helvetica" SIZE=4><P ALIGN="CENTER"><A NAME="lg_libproc_TRAF_H"></A>MODULE TRAF&#9;CARD H</P>
</FONT><I><FONT FACE="Arial, helvetica"><P ALIGN="CENTER">Test cases</P>
</B></I><P ALIGN="JUSTIFY">&nbsp;</P>
<P ALIGN="JUSTIFY">Reference test cases relevant to this module are in the model library under the tag:</P>
<P ALIGN="CENTER">"PROVATRA"</P></FONT></BODY>
</HTML>
