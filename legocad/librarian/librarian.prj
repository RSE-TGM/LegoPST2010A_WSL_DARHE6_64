! UIMX ascii 2.0 key: 5605                                                      

*librarian.class: Project
*librarian.PjName: librarian
*librarian.PjDoMain: 0
*librarian.PjDoMake: 0
*librarian.PjWriteAll: 0
*librarian.PjRunMake: 0
*librarian.PjStartupIface: mainWindow1
*librarian.PjWriteCDir: .
*librarian.PjMode: 1
*librarian.PjAppClassName: Librarian

*mainWindow1_PJinterface.class: PJinterface
*mainWindow1_PJinterface.PjName: mainWindow1_PJinterface
*mainWindow1_PJinterface.PjSwName: mainWindow1
*mainWindow1_PJinterface.PjParent: librarian
*mainWindow1_PJinterface.PjFileName: mainWindow1.i
*mainWindow1_PJinterface.PjShowFlag: 2
*mainWindow1_PJinterface.PjDate: 843140597
*mainWindow1_PJinterface.PjMode: 1
*mainWindow1_PJinterface.PjCFileName: mainWindow1.c

*dbox_lista_mod_PJinterface.class: PJinterface
*dbox_lista_mod_PJinterface.PjName: dbox_lista_mod_PJinterface
*dbox_lista_mod_PJinterface.PjSwName: dbox_lista_mod
*dbox_lista_mod_PJinterface.PjParent: librarian
*dbox_lista_mod_PJinterface.PjFileName: dbox_lista_mod.i
*dbox_lista_mod_PJinterface.PjShowFlag: 0
*dbox_lista_mod_PJinterface.PjDate: 796313565
*dbox_lista_mod_PJinterface.PjMode: 1
*dbox_lista_mod_PJinterface.PjCFileName: dbox_lista_mod.c

*abox_file_selection_PJinterface.class: PJinterface
*abox_file_selection_PJinterface.PjName: abox_file_selection_PJinterface
*abox_file_selection_PJinterface.PjSwName: abox_file_selection
*abox_file_selection_PJinterface.PjParent: librarian
*abox_file_selection_PJinterface.PjFileName: abox_file_selection.i
*abox_file_selection_PJinterface.PjShowFlag: 0
*abox_file_selection_PJinterface.PjDate: 796313571
*abox_file_selection_PJinterface.PjMode: 1
*abox_file_selection_PJinterface.PjCFileName: abox_file_selection.c

*abox_doc_module_PJinterface.class: PJinterface
*abox_doc_module_PJinterface.PjName: abox_doc_module_PJinterface
*abox_doc_module_PJinterface.PjSwName: abox_doc_module
*abox_doc_module_PJinterface.PjParent: librarian
*abox_doc_module_PJinterface.PjFileName: abox_doc_module.i
*abox_doc_module_PJinterface.PjShowFlag: 0
*abox_doc_module_PJinterface.PjDate: 796313572
*abox_doc_module_PJinterface.PjMode: 1
*abox_doc_module_PJinterface.PjCFileName: abox_doc_module.c

*nmod_app_shell_PJinterface.class: PJinterface
*nmod_app_shell_PJinterface.PjName: nmod_app_shell_PJinterface
*nmod_app_shell_PJinterface.PjSwName: nmod_app_shell
*nmod_app_shell_PJinterface.PjParent: librarian
*nmod_app_shell_PJinterface.PjFileName: nmod_app_shell.i
*nmod_app_shell_PJinterface.PjShowFlag: 0
*nmod_app_shell_PJinterface.PjDate: 821987697
*nmod_app_shell_PJinterface.PjMode: 1
*nmod_app_shell_PJinterface.PjCFileName: nmod_app_shell.c

*nmod_dialog_config_PJinterface.class: PJinterface
*nmod_dialog_config_PJinterface.PjName: nmod_dialog_config_PJinterface
*nmod_dialog_config_PJinterface.PjSwName: nmod_dialog_config
*nmod_dialog_config_PJinterface.PjParent: librarian
*nmod_dialog_config_PJinterface.PjFileName: nmod_dialog_config.i
*nmod_dialog_config_PJinterface.PjShowFlag: 0
*nmod_dialog_config_PJinterface.PjDate: 796313575
*nmod_dialog_config_PJinterface.PjMode: 1
*nmod_dialog_config_PJinterface.PjCFileName: nmod_dialog_config.c

*nmod_dialog_equations_PJinterface.class: PJinterface
*nmod_dialog_equations_PJinterface.PjName: nmod_dialog_equations_PJinterface
*nmod_dialog_equations_PJinterface.PjSwName: nmod_dialog_equations
*nmod_dialog_equations_PJinterface.PjParent: librarian
*nmod_dialog_equations_PJinterface.PjFileName: nmod_dialog_equations.i
*nmod_dialog_equations_PJinterface.PjShowFlag: 0
*nmod_dialog_equations_PJinterface.PjDate: 796313578
*nmod_dialog_equations_PJinterface.PjMode: 1
*nmod_dialog_equations_PJinterface.PjCFileName: nmod_dialog_equations.c

*dbox_user_data_PJinterface.class: PJinterface
*dbox_user_data_PJinterface.PjName: dbox_user_data_PJinterface
*dbox_user_data_PJinterface.PjSwName: dbox_user_data
*dbox_user_data_PJinterface.PjParent: librarian
*dbox_user_data_PJinterface.PjFileName: dbox_user_data.i
*dbox_user_data_PJinterface.PjShowFlag: 0
*dbox_user_data_PJinterface.PjDate: 796313578
*dbox_user_data_PJinterface.PjMode: 1
*dbox_user_data_PJinterface.PjCFileName: dbox_user_data.c

*dbox_user_jac_PJinterface.class: PJinterface
*dbox_user_jac_PJinterface.PjName: dbox_user_jac_PJinterface
*dbox_user_jac_PJinterface.PjSwName: dbox_user_jac
*dbox_user_jac_PJinterface.PjParent: librarian
*dbox_user_jac_PJinterface.PjFileName: dbox_user_jac.i
*dbox_user_jac_PJinterface.PjShowFlag: 0
*dbox_user_jac_PJinterface.PjDate: 796313580
*dbox_user_jac_PJinterface.PjMode: 1
*dbox_user_jac_PJinterface.PjCFileName: dbox_user_jac.c

*dbox_user_resid_PJinterface.class: PJinterface
*dbox_user_resid_PJinterface.PjName: dbox_user_resid_PJinterface
*dbox_user_resid_PJinterface.PjSwName: dbox_user_resid
*dbox_user_resid_PJinterface.PjParent: librarian
*dbox_user_resid_PJinterface.PjFileName: dbox_user_resid.i
*dbox_user_resid_PJinterface.PjShowFlag: 0
*dbox_user_resid_PJinterface.PjDate: 796313581
*dbox_user_resid_PJinterface.PjMode: 1
*dbox_user_resid_PJinterface.PjCFileName: dbox_user_resid.c

*dbox_user_eq_PJinterface.class: PJinterface
*dbox_user_eq_PJinterface.PjName: dbox_user_eq_PJinterface
*dbox_user_eq_PJinterface.PjSwName: dbox_user_eq
*dbox_user_eq_PJinterface.PjParent: librarian
*dbox_user_eq_PJinterface.PjFileName: dbox_user_eq.i
*dbox_user_eq_PJinterface.PjShowFlag: 0
*dbox_user_eq_PJinterface.PjDate: 796313582
*dbox_user_eq_PJinterface.PjMode: 1
*dbox_user_eq_PJinterface.PjCFileName: dbox_user_eq.c

*uxmain.class: PJuxmain
*uxmain.PjName: uxmain
*uxmain.PjParent: librarian
*uxmain.PjFileName: librarian.c
*uxmain.PjDate: 760877978
*uxmain.PjMode: 0
*uxmain.PjBody: /* @(#)31	1.5  com/config/main.tem, aic, aic320, 9145320 10/11/91 18:18:40 */\
/*\
 * COMPONENT_NAME: AIC     AIXwindows Interface Composer\
 *\
 * ORIGINS: 28\
 * \
 * Licensed Materials - Property of IBM\
 * 5756-027 (C) Copyright International Business Machines Corp. 1991.\
 * All Rights Reserved.\
 *\
 * US Government Users Restricted Rights - Use, duplication or\
 * disclosure restricted by GSA ADP Schedule Contract with IBM Corp.\
 *\
 */\
\
\
/*-----------------------------------------------------------*/\
/* This is the project main program file.		     */		\
/* You may add application dependent source code 	     */\
/* at the appropriate places. 				     */\
/* 			         			     */\
/* Please do not modify the statements preceded by the       */\
/* dollar sign ($), these statements will be replaced with   */\
/* the appropriate source code when the main program is      */\
/* automatically generated.             	    	     */\
/*-----------------------------------------------------------*/ \
\
#ifdef XOPEN_CATALOG\
#include <locale.h>\
#endif\
\
#include <stdio.h>\
#include <unistd.h>\
\
#include <UxLib.h>\
\
#include <lc_errore.h>\
\
#include <libutilx.h>\
#include <file_icone.h>\
\
#include "definizioni.h"\
\
/*-----------------------------------------------------------*/\
/* Insert application global declarations here		     */\
/*-----------------------------------------------------------*/\
\
extern swidget mainWindow1;\
\
Widget UxTopLevel;\
\
Display *display;\
int screen;\
\
Arg args[20];\
Cardinal argcount;\
\
/* D E F I N I Z I O N E   D E I   C O L O R I */\
char *names[] = { "white", "black" };\
int num_colors = 2;\
Pixel apix[10];\
short color_values[] = { WHITE,BLACK };\
Colormap colormap;\
\
ERR_LEVEL err_level;\
\
/********************************************************************/\
/* Strutture riguardanti il geometry management delle varie Dialog...\
   Specificare, nell'ordine: { DefaultPosition TRUE/FALSE,XmNx,XmNy,\
                               XmNwidth,XmNHeight }                 */\
Dialog_geometry geom_attention   = { TRUE, NULL, NULL, NULL, 150 };\
/********************************************************************/\
Widget attention_wdg;\
\
/***************************************************/\
/* Struttura di callback per gli widget di conferma*/\
/***************************************************/\
\
static Elenco_callback test_env_callback = {\
	{"Create",  conf_test_env, 0 },\
	{"Copy All",conf_test_env, 1 },\
	{"Exit",    conf_test_env, 2 }};\
Widget dialog_test_env;\
\
/* Array di compound strings */\
XmString cstrings[500], cstring, cstring_null;\
\
char message[256];\
\
/* VARIABILE GLOBALE DEL NOME DEL MODULO SELEZIONATO */\
char nome_modulo[5];\
char descr_modulo[81];\
\
char *path_legocad, *path_lego;\
\
/******************************************************/\
main(argc,argv)\
	int 	argc;\
	char 	*argv[];\
{\
	/*-----------------------------------------------------------*/\
	/* Declarations.					     */\
	/* The default identifier - mainIface will only be declared  */ \
	/* if the interface function is global and of type swidget.  */\
	/* To change the identifier to a different name, modify the  */\
	/* string mainIface in the file "main.dat".  If "mainIface"  */\
	/* is declared, it will be used below where the return value */\
	/* of  PJ_INTERFACE_FUNCTION_CALL will be assigned to it.    */\
        /*-----------------------------------------------------------*/ \
\
  	$PJ_INTERFACE_RETVAL_TYPE\
\
	/*-----------------------------------------------------------*/\
	/* Interface function declaration			     */\
	/*-----------------------------------------------------------*/	\
\
 	$PJ_INTERFACE_FUNCTION_DECL\
	$PJ_INTERFACE_FUNCTION_ARG_DECL\
\
	/*------------------------------*/\
	/* 	Initialize Program	*/\
	/*------------------------------*/\
\
        FILE *fp;\
        char file_libgraf[256], forausbase[256], file_orig[256];\
\
#ifdef XOPEN_CATALOG\
	setlocale(LC_ALL, "");\
#endif\
\
  	UxTopLevel = UxInitialize("$PJ_APP_CLASS_NAME", &argc, argv);\
\
	/*------------------------------------------------------------*/\
	/*    Insert initialization code for your application here    */\
	/*------------------------------------------------------------*/\
        display = XtDisplay (UxTopLevel);\
\
     /* Ambiente LEGOCAD dell'utente */\
        path_legocad = (char *) getenv("LEGOCAD_USER");\
        if (path_legocad == NULL)\
        {\
           printf ("WARNING: You must set the environment variable LEGOCAD_USER.\n");\
#ifdef VMS\
           path_legocad = "[]";\
#else\
           path_legocad = ".";\
#endif\
        }\
\
        path_lego = (char *) getenv("LEGO");\
        if (path_lego == NULL)\
#ifdef VMS\
           path_lego = "[]";\
#else\
           path_lego = ".";\
#endif\
\
     /* Controllo esistenza del file LIBUT/FORAUSBASE.F */\
     /* Se non esiste va copiato */\
\
        percorso_libreria(forausbase, LIBUT, LIB_UTENTE);\
        strcat(forausbase, "forausbase.f");\
\
        if (access(forausbase,F_OK))\
        {\
           percorso_libreria(file_orig, LIBUT, LIB_STANDARD);\
           strcat(file_orig,"forausbase.f");\
\
           if ( copia_file(file_orig,forausbase) )\
           {\
              printf ("WARNING: Can't copy file FORAUSBASE.F. Can't continue.\n");\
/***\
              XtCloseDisplay(display);\
              exit(1);\
***/\
           }\
        }\
\
     /* inizializzazione di alcune variabili globali */\
        init_vars();\
\
	/*------------------------------------------------------------------*/\
	/*  Create and popup the first window of the interface.  The 	    */\
	/*  return value can be used in the popdown or destroy functions.   */\
	/*  The swidget return value of  PJ_INTERFACE_FUNCTION_CALL will    */\
	/*  be assigned to "mainIface" from  PJ_INTERFACE_RETVAL_TYPE.      */\
	/*------------------------------------------------------------------*/\
\
	$PJ_INTERFACE_FUNCTION_CALL\
	$PJ_POPUP_CALL\
\
     /* CONTROLLO DELL'AMBIENTE LEGOCAD */\
        if (test_environment() != 0)\
        {\
           strcpy(message, "The LEGOCAD environment is not correct\n");\
	   strcat(message, "What do you do?");\
           dialog_test_env = (Widget) conferma (UxTopLevel, message, \
                                                test_env_callback);\
           XtManageChild (dialog_test_env);\
        }\
        else\
        {\
           fprintf(stdout,"END OF TEST -> OK!\n");\
\
        /* Aggiornamento file icone grafiche se il file lista_moduli.dat e' */\
        /* piu' recente di lista_moduli.dat */\
           fp = apri_file_icoproc(CREA_TRUE, LIB_UTENTE);\
           fclose(fp);\
        }\
\
        set_something (UxTopLevel,XmNtitle,"LEGO MODULES EDITOR");\
\
        /* Disinnesco dei menu finche' non si sceglie un modulo */\
        menu_modulo_non_attivo();\
\
        /* Creazione finestra di warning */\
        attention_wdg = (Widget) attention(UxTopLevel,"",CREA,geom_attention);\
\
        /*  Recupera la Colormap e allocca i colori di fg e bg  */\
        get_something(UxGetWidget(mainWindow1),XmNcolormap,&colormap);\
        get_pixel(names,apix,num_colors);\
\
	/*-------------------------*/\
	/*   Enter the event loop  */\
	/*-------------------------*/\
\
  	$PJ_EVENT_LOOP\
}
*uxmain.PjExplicitEventLoop: {\
\
	XEvent event;\
\
	for (;;)\
	{\
	    UxNextEvent(&event);\
\
	    switch (event.type)\
	    {\
\
	/*--------------------------------------------------------*/\
	/*   Insert code here to handle any events that you do    */\
	/*   not wish to be handled by the interface. 		  */\
	/*--------------------------------------------------------*/\
\
		default:\
	    	    UxDispatchEvent(&event);\
	    	    break;\
	    }\
	}\
}
*uxmain.PjEdited: 1
*uxmain.PjHasImplicitLoop: 1
*uxmain.PjHasExplicitLoop: 0

*xtmain.class: PJxtmain
*xtmain.PjName: xtmain
*xtmain.PjParent: librarian
*xtmain.PjFileName: librarian.c
*xtmain.PjDate: 841313641
*xtmain.PjMode: 1
*xtmain.PjBody: #ifndef DESIGN_TIME\
/*\
   modulo librarian.prj\
   tipo \
   release 2.25\
   data 1/18/96\
   reserved @(#)librarian.prj	2.25\
*/\
/*\
        Variabile per identificazione della versione\
*/\
static char SccsID[] = "@(#)librarian.prj	2.25\t1/18/96";\
\
/*\
        Fine sezione per SCCS\
*/\
\
#endif\
\
/* @(#)35	1.10  com/config/xtmain.tem, aic, aic322, 9239322 9/30/92 16:31:05 */\
/*\
 *  COMPONENT_NAME: AIC     AIXwindows Interface Composer\
 *  \
 *  ORIGINS: 58\
 *  \
 *  \
 *                   Copyright IBM Corporation 1991, 1992\
 *  \
 *                         All Rights Reserved\
 *  \
 *   Permission to use, copy, modify, and distribute this software and its\
 *   documentation for any purpose and without fee is hereby granted,\
 *   provided that the above copyright notice appear in all copies and that\
 *   both that copyright notice and this permission notice appear in\
 *   supporting documentation, and that the name of IBM not be\
 *   used in advertising or publicity pertaining to distribution of the\
 *   software without specific, written prior permission.\
 *  \
*/\
/*-----------------------------------------------------------\
 * This is the project main program file for Xt generated \
 * code. You may add application dependent source code \
 * at the appropriate places. \
 * 			     \
 * Do not modify the statements preceded by the dollar\
 * sign ($), these statements will be replaced with\
 * the appropriate source code when the main program is  \
 * generated.  \
 *\
 * $Date: 92/06/25 11:00:40 $  		$Revision: 1.11.37.1.43.2 $ \
 *-----------------------------------------------------------*/ \
\
#ifdef XOPEN_CATALOG\
#include <locale.h>\
#endif\
\
#include <X11/Intrinsic.h>\
#include <X11/StringDefs.h>\
#include <Xm/Xm.h>\
\
\
/*---------------------------------------------------- \
 * UxXt.h needs to be included only when compiling a \
 * stand-alone application. \
 *---------------------------------------------------*/\
#ifndef DESIGN_TIME\
#include "UxXt.h"\
#endif /* DESIGN_TIME */\
#include <stdio.h>\
#include <unistd.h>\
#include <lc_errore.h>\
\
#include <libutilx.h>\
#include <file_icone.h>\
\
#include "definizioni.h"\
XtAppContext	UxAppContext;\
Widget		UxTopLevel;\
Display		*UxDisplay;\
int		UxScreen;\
\
/*----------------------------------------------\
 * Insert application global declarations here\
 *---------------------------------------------*/\
\
extern swidget mainWindow1;\
\
Widget UxTopLevel;\
\
Display *display;\
int screen;\
\
Arg args[20];\
Cardinal argcount;\
\
/* D E F I N I Z I O N E   D E I   C O L O R I */\
char *names[] = { "white", "black" };\
int num_colors = 2;\
Pixel apix[10];\
short color_values[] = { WHITE,BLACK };\
Colormap colormap;\
\
ERR_LEVEL err_level;\
\
/********************************************************************/\
/* Strutture riguardanti il geometry management delle varie Dialog...\
   Specificare, nell'ordine: { DefaultPosition TRUE/FALSE,XmNx,XmNy,\
                               XmNwidth,XmNHeight }                 */\
Dialog_geometry geom_attention   = { TRUE, NULL, NULL, NULL, 150 };\
/********************************************************************/\
Widget attention_wdg;\
\
/***************************************************/\
/* Struttura di callback per gli widget di conferma*/\
/***************************************************/\
\
static Elenco_callback test_env_callback = {\
        {"Create",  conf_test_env, 0 },\
        {"Copy All",conf_test_env, 1 },\
        {"Exit",    conf_test_env, 2 }};\
Widget dialog_test_env;\
\
/* Array di compound strings */\
XmString cstrings[500], cstring, cstring_null;\
\
char message[256];\
\
/* VARIABILE GLOBALE DEL NOME DEL MODULO SELEZIONATO */\
char nome_modulo[5];\
char descr_modulo[81];\
\
char *path_legocad, *path_lego, *path_rego;\
\
/******************************************************/ \
\
main(argc,argv)\
	int 	argc;\
	char 	*argv[];\
{\
        FILE *fp;\
        char file_libgraf[256], forausbase[256], file_orig[256];\
	/*-----------------------------------------------------------\
	 * Declarations.\
         * The default identifier - mainIface will only be declared \
	 * if the interface function is global and of type swidget.\
	 * To change the identifier to a different name, modify the\
	 * string mainIface in the file "xtmain.dat". If "mainIface"\
         * is declared, it will be used below where the return value\
	 * of  PJ_INTERFACE_FUNCTION_CALL will be assigned to it.\
         *----------------------------------------------------------*/ \
\
  	$PJ_INTERFACE_RETVAL_TYPE\
\
	/*---------------------------------\
	 * Interface function declaration\
	 *--------------------------------*/	\
\
 	$PJ_INTERFACE_FUNCTION_DECL\
	$PJ_INTERFACE_FUNCTION_ARG_DECL\
\
	/*---------------------\
	 * Initialize program\
	 *--------------------*/\
\
  \
\
#ifdef XOPEN_CATALOG\
	setlocale(LC_ALL, "");\
#endif\
\
  	UxTopLevel = XtAppInitialize(&UxAppContext, "$PJ_APP_CLASS_NAME",\
				     NULL, 0, &argc, argv, NULL, NULL, 0);\
\
	UxDisplay = XtDisplay(UxTopLevel);\
	UxScreen = XDefaultScreen(UxDisplay);\
\
	/* We set the geometry of UxTopLevel so that dialogShells\
	   that are parented on it will get centered on the screen\
	   (if defaultPosition is true). */\
\
	XtVaSetValues(UxTopLevel,\
			XtNx, 0,\
			XtNy, 0,\
			XtNwidth, DisplayWidth(UxDisplay, UxScreen),\
			XtNheight, DisplayHeight(UxDisplay, UxScreen),\
			NULL);\
\
	/*-------------------------------------------------------\
	 * Insert initialization code for your application here \
	 *------------------------------------------------------*/\
\
        display = XtDisplay (UxTopLevel);\
\
     /* Ambiente LEGOCAD dell'utente */\
        path_legocad = (char *) getenv("LEGOCAD_USER");\
        if (path_legocad == NULL)\
        {\
           printf ("WARNING: You must set the environment variable LEGOCAD_USER.\n");\
\
#ifdef VMS\
           path_legocad = "[]";\
#else\
           path_legocad = ".";\
#endif\
        }\
/*\
 Path REGOLIB deve puntare alla directory dove sono presenti le librerie\
 standard dei moduli LEGO di REGOLAZIONE\
*/\
        path_rego = (char *) getenv("REGOLIB");\
        if (path_rego == NULL)\
	{\
           printf ("WARNING: You must set the environment variable REGOLIB.\n");\
#ifdef VMS\
           path_rego = "[]";\
#else\
           path_rego = ".";\
#endif\
	}\
/*\
 Path PROCLIB deve puntare alla directory dove sono presenti le librerie\
 standard dei moduli LEGO di PROCESSO\
*/\
        path_lego = (char *) getenv("PROCLIB");\
        if (path_lego == NULL)\
	{\
           printf ("WARNING: You must set the environment variable PROCLIB.\n");\
#ifdef VMS\
           path_lego = "[]";\
#else\
           path_lego = ".";\
#endif\
	}\
     /* Controllo esistenza del file LIBUT/FORAUSBASE.F */\
     /* Se non esiste va copiato */\
\
        percorso_libreria(forausbase, LIBUT, LIB_UTENTE);\
        strcat(forausbase, "forausbase.f");\
\
        if (access(forausbase,F_OK))\
        {\
           percorso_libreria(file_orig, LIBUT, LIB_STANDARD);\
           strcat(file_orig,"forausbase.f");\
\
           if ( copia_file(file_orig,forausbase) )\
           {\
              printf ("WARNING: Can't copy file FORAUSBASE.F. Can't continue.\n"\
);\
/***\
              XtCloseDisplay(display);\
              exit(1);\
***/\
           }\
        }\
\
     /* inizializzazione di alcune variabili globali */\
        init_vars();\
     \
\
	/*----------------------------------------------------------------\
	 * Create and popup the first window of the interface.  The 	 \
	 * return value can be used in the popdown or destroy functions.\
         * The Widget return value of  PJ_INTERFACE_FUNCTION_CALL will \
         * be assigned to "mainIface" from  PJ_INTERFACE_RETVAL_TYPE. \
	 *---------------------------------------------------------------*/\
\
	$PJ_INTERFACE_FUNCTION_CALL\
	$PJ_POPUP_CALL\
     /* CONTROLLO DELL'AMBIENTE LEGOCAD */\
        if (test_environment() != 0)\
        {\
           strcpy(message, "The LEGOCAD environment is not correct\n");\
           strcat(message, "What do you do?");\
           dialog_test_env = (Widget) conferma (UxTopLevel, message,\
                                                test_env_callback);\
           XtManageChild (dialog_test_env);\
        }\
        else\
        {\
           fprintf(stdout,"END OF TEST -> OK!\n");\
\
        /* Aggiornamento file icone grafiche se il file lista_moduli.dat e' */\
        /* piu' recente di lista_moduli.dat */\
           fp = apri_file_icoproc(CREA_TRUE, LIB_UTENTE);\
           fclose(fp);\
        }\
\
        set_something (UxTopLevel,XmNtitle,"LEGO MODULES EDITOR");\
\
        /* Disinnesco dei menu finche' non si sceglie un modulo */\
        menu_modulo_non_attivo();\
\
        /* Creazione finestra di warning */\
        attention_wdg = (Widget) attention(UxTopLevel,"",CREA,geom_attention);\
\
        /*  Recupera la Colormap e allocca i colori di fg e bg  */\
        get_something(UxGetWidget(mainWindow1),XmNcolormap,&colormap);\
        get_pixel(names,apix,num_colors);\
    \
\
	/*-----------------------\
	 * Enter the event loop \
	 *----------------------*/\
\
  	$PJ_EVENT_LOOP\
\
}\

*xtmain.PjExplicitEventLoop: {\
\
	XEvent event;\
\
	for (;;)\
	{\
	    XtAppNextEvent(UxAppContext, &event);\
\
	    switch (event.type)\
	    {\
\
	       /*---------------------------------------------------\
	 	* Insert code here to handle any events that you do\
		* not wish to be handled by the interface.\
		*---------------------------------------------------*/\
\
		default:\
	    	    XtDispatchEvent(&event);\
	    	    break;\
	    }\
	}\
}
*xtmain.PjEdited: 1
*xtmain.PjHasImplicitLoop: 1
*xtmain.PjHasExplicitLoop: 0

*uxmake.class: PJuxmake
*uxmake.PjName: uxmake
*uxmake.PjParent: librarian
*uxmake.PjFileName: librarian.mk
*uxmake.PjDate: 760878318
*uxmake.PjMode: 0
*uxmake.PjBody: #########################################################################\
# \
#    	MAKEFILE FOR STAND-ALONE UX CODE APPLICATION.\
#\
#       EXECUTABLE      is the name of the executable to be created \
#       MAIN            is the .c file containing your main() function\
#       INTERFACES      is a list of the generated C code files \
#       APP_OBJS        is a (possibly empty) list of the object code\
#                       files that form the non-interface portion of\
#                       your application \
#\
#       In the first three statements, the variables on the right \
#	of the equal sign will be replaced with their corresponding \
#       values when the makefile is automatically generated. \
#\
#  	$Date: 92/04/23 14:57:17 $ 		$Revision: 1.29.37.5.45.1 $\
#########################################################################\
\
EXECUTABLE	= $(LEGOCAD_BIN)/$PJ_EXECUTABLE\
MAIN		= $PJ_MAIN_SRC\
INTERFACES	= $PJ_INTERFACES_SRC\
APPL_OBJS	= newmod_util.o genera_ftn.o\
UX_LIBPATH	= $(UX_DIR)/lib\
X_LIBS		= $(X_LIB) -lX11\
\
LEGO_CFLAGS     = -D$(OS) -I$(LEGOCAD_INCLUDE) -I$(LEGOROOT_INCLUDE)\
LEGO_LIBPATH    = -L$(LEGOCAD_LIB) -L$(LEGOROOT_LIB)\
\
\
CFLAGS		= -D_NO_PROTO -I$(UX_DIR)/include $(X_INCLUDE_OLD)\\
		  $(LEGO_CFLAGS) -g \
LIBPATH		= -L$(UX_LIBPATH) $(LEGO_LIBPATH) \
LIBS		= -llegocad -lutilx -lutil -licofile\\
                  -l$(UX) $(X_LIBS) -lm -lbsd\
\
\
OBJS = $(MAIN:.c=.o) $(INTERFACES:.c=.o) $(APPL_OBJS) $(EXTRA_OBJS)\
\
\
.c.o:\
	$(CC) -c $(CFLAGS) $< -o $@\
\
\
$(EXECUTABLE): $(OBJS)\
	$(CC) $(OBJS) $(LIBPATH) $(LIBS) -o $(EXECUTABLE)\
	@echo "done"\
\

*uxmake.PjEdited: 1

*xtmake.class: PJxtmake
*xtmake.PjName: xtmake
*xtmake.PjParent: librarian
*xtmake.PjFileName: librarian.mk
*xtmake.PjDate: 796313485
*xtmake.PjMode: 1
*xtmake.PjBody: #\
#   modulo librarian.prj\
#   tipo \
#   release 2.25\
#   data 96/04/05\
#   reserved @(#)librarian.prj	2.25\
#\
\
# @(#)48	1.3  com/config/xtmake.tem.m4, aic, aic322, 9239322 9/30/92 16:31:08\
 \
#  COMPONENT_NAME: AIC     AIXwindows Interface Composer\
#  \
#  ORIGINS: 58\
#  \
#  \
#                   Copyright IBM Corporation 1991, 1992\
#  \
#                         All Rights Reserved\
#  \
#   Permission to use, copy, modify, and distribute this software and its\
#   documentation for any purpose and without fee is hereby granted,\
#   provided that the above copyright notice appear in all copies and that\
#   both that copyright notice and this permission notice appear in\
#   supporting documentation, and that the name of IBM not be\
#   used in advertising or publicity pertaining to distribution of the\
#   software without specific, written prior permission.\
#  \
\
#########################################################################\
#\
#       MAKEFILE FOR STAND-ALONE XT CODE APPLICATION.  \
#\
#       EXECUTABLE      is the name of the executable to be created \
#       MAIN            is the .c file containing your main() function \
#       INTERFACES      is a list of the generated C code files\
#       APP_OBJS        is a (possibly empty) list of the object code\
#                       files that form the non-interface portion of\
#                       your application\
#\
#       In the first three statements, the variables on the right \
#	of the equal sign will be replaced with their corresponding\
#       values when the makefile is automatically generated.\
#\
#       This template is used for makefiles which do not reference \
#       the Ux runtime library.\
#\
#  	$Date: 92/03/02 14:32:00 $ 		$Revision: 1.28.37.3 $\
#########################################################################\
\
EXECUTABLE	= $(LEGOCAD_BIN)/librarian\
\
MAIN		= $PJ_MAIN_SRC\
INTERFACES	= $PJ_INTERFACES_SRC\
\
#11-1-95 Micheletti\
#APPL_OBJS	= UxXt.o newmod_util.o genera_ftn.o\
APPL_OBJS	= UxXt.o newmod_util.o genera_ftn.o \
\
UX_DIR		= /usr/lpp/aic\
UX_LIBPATH	= $(UX_DIR)/lib\
X_LIBS		= -lXm -lXt -lX11\
\
LEGO_CFLAGS     = -D$(OS) -I$(LEGOCAD_INCLUDE) -I$(LEGOROOT_INCLUDE)\
LEGO_LIBPATH    = -L$(LEGOCAD_LIB) -L$(LEGOROOT_LIB)\
\
X_LIBPATH	= \
MOTIF_LIBPATH	=\
X_CFLAGS	=\
MOTIF_CFLAGS	=\
\
CFLAGS		= -D_BSD -D_NO_PROTO -DXOPEN_CATALOG -DAIXV3 \\
		  $(X_CFLAGS) $(MOTIF_CFLAGS) $(LEGO_CFLAGS) \
LIBPATH		= $(X_LIBPATH) $(MOTIF_LIBPATH) $(LEGO_LIBPATH) \
LIBS		= $(LEGOCAD_LIB)/liblegocad.a -lutilx -lutil -licofile\\
		  $(X_LIBS) -lm $(LIBOTS) $(F_LIB) -lbsd\
\
\
OBJS = $(MAIN:.c=.o) $(INTERFACES:.c=.o) $(APPL_OBJS)\
\
\
.c.o:\
	$(CC) -c $(CFLAGS) $< -o $@\
\
\
$(EXECUTABLE): $(OBJS)\
	$(CC) $(OBJS) $(LIBPATH) $(LIBS) -o $(EXECUTABLE)\
	@echo "done"\

*xtmake.PjEdited: 1
