<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>CONA</title>
<meta name="Microsoft Theme" content="copy_of_industrial 011, default">
</head>

<body background="_themes/copy_of_industrial/lego_bg_studs.gif" bgcolor="#FFFFFF" text="#000000" link="#3366CC" vlink="#666666" alink="#996600"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<p ALIGN="left"><b><font SIZE="4"><a name="Top"></a></font></b>
</p>
<p ALIGN="left">&nbsp;
</p>
<!--mstheme--></font><table border="1" width="100%" bgcolor="#FFCC66" bordercolordark="#000000" bordercolorlight="#666666">
  <tr>
    <td width="100%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="center"><b><font SIZE="4">MODULE CONA</font></b>
    <!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<b><font SIZE="4">
<i>
<p ALIGN="CENTER">Summary</p>
</i></font></b>
<blockquote>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card A">model
  generalities</a> </p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card B">topological
  data</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card C">physical
  and geometrical data</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card D">module
  variables initialization</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card E">user's
  subprograms</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card F">residuals</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card G">module
  subprograms</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card H">test cases</a></p>
</blockquote>
<blockquote>
  <p ALIGN="JUSTIFY">&nbsp;</p>
</blockquote>
<p ALIGN="left"><font SIZE="4"><b><a name="card A"></a></b></font> </p>
<p ALIGN="left">&nbsp; </p>
<b><font SIZE="4">
<!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE CONA</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD A</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
</font><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Model Generalities</p>
</i></font></b>
<font FACE="Arial">
<p ALIGN="CENTER">OIL HEADER WITH DAMPER</p>
<p ALIGN="JUSTIFY">&nbsp;</p>
<p ALIGN="left">The CONA module simulates the operation of a header connected
to a gas damper containing nitrogen, to which Ne pipes arrive and from which Nu
pipes are branched off.</p>
<p ALIGN="left">The header deal with some types of oil, which can be
lubricating oil of naphta. A single application (one block) deals with one
selected type of these oils.</p>
<p ALIGN="left">Main hypothesis introduced in the model are:</p>
<p ALIGN="left">&nbsp;</p>
<p>- Oil flowing in the header is perfectly mixed;</p>
<p>- The specific heat and the thermal conductivity of the header wall
material are constant;</p>
<p>- Thermal exchange coefficients between heavy oil and wall and between wall
and outside environment are constant;</p>
<p>- The thermal exchange coefficients between heavy oil and gas and between gas
and wall are constant;</p>
<p>- The gas mass in the damper is constant;</p>
<p>- The gas in the damper behaves as an ideal gas;</p>
<p>- The gas specific heat is function of its temperature and pressure.</p>
<p ALIGN="JUSTIFY">&nbsp;</p>
<p ALIGN="JUSTIFY">Equations forming the mathematical model are:</p>
<p ALIGN="JUSTIFY">&nbsp;</p>
<p>- Heavy oil mass conservation equation;</p>
<p>- Heavy oil energy conservation equation;</p>
<p>- Gas energy conservation equation;</p>
<p>- Header wall energy conservation equation;</p>
<p>- Total volume conservation equation;</p>
<p>- Ideal gas state equation;</p>
<p>- Equation for thermal exchange between heavy oil and gas;</p>
<p>- Equation for thermal exchange between heavy oil and header wall;</p>
<p>- Equation for thermal exchange between gas and header wall;</p>
<p>- Equation for thermal exchange between header wall and outside
environment.</p>
<p ALIGN="left">The type of heavy oil considered is determined through an
appropriate index assigned among input data and must be the same for the
header and all intake and outgoing pipes.</p>
</font>
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="left"><b><font SIZE="4"><a name="card B"></a> </p>
<!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE CONA</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD B</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font></b>
<font FACE="Arial">
          </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Topological data</p>
</i></font></b><font FACE="Arial">
<p ALIGN="CENTER">INPUT-OUTPUT SCHEME</p>
<p ALIGN="JUSTIFY">&nbsp;</p>
<p ALIGN="JUSTIFY">Ne = number of pipes intaking the header (max. 40)</p>
<p ALIGN="JUSTIFY">Nu = number of pipes coming out from header (max. 40)</p>
<p ALIGN="JUSTIFY">i = 1, 2, ..., Ne</p>
<p ALIGN="JUSTIFY">j = 1, 2, ..., Nu</p>
<p ALIGN="JUSTIFY">&nbsp;</p>
</font><font SIZE="2">
<p align="center"><img SRC="images/Image54.gif" width="488" height="263"></p>
</font><font FACE="Arial">
<p ALIGN="CENTER">&nbsp;</p>
<p ALIGN="CENTER">PHYSICAL MEANING OF MODULE INPUT-OUTPUT VARIABLES</p>
<!--mstheme--></font><table border="0" width="100%">
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[Pa]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">PNAF</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">pressure in header</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[K]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TNAF</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">heavy oil temperature in header</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[K]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TPAR</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">header wall temperature</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m³]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">VNAF</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">volume occupied by heavy oil</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[kg/s]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">WE_i</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">mass flow rate of heavy oil running into
      the i-th piping</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[K]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TE_i</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">temperature of heavy oil intaking from
      the i-th piping</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[kg/s]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">WU_j</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">mass flow rate of heavy oil coming out
      from the j-th piping</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[K]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TU_j</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">enthalpy of heavy oil coming out from the
      j-th piping (in case of mass flow rate inversion)</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[K]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TEST</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">temperature of environment outside the
      header</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[W/m²/K]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">GEST</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">thermal exchange coefficient between the
      header wall and the outside environment</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[kg]</font><!--mstheme--></font></td>
    <td width="15%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">MGAS&nbsp;</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">gas mass in damper</font><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<p ALIGN="left">Note 1 : During the model topology definition phase the user is
requested to indicate the number of intake pipes and of outgoing pipes for the
header one wants to simulate.</p>
<p ALIGN="left">In particular the following string appears first on the screen:</p>
<p ALIGN="left">MASS FLOW RATE HEADER BRANCH POINT</p>
<p ALIGN="left">NUMBER OF INCOMING BRANCHES (01 - 40) ?</p>
<p ALIGN="left">and, in the case a numeric value out of the range indicated is
entered, the following string appears: ERRORE - N.ENT.= followed by the wrong
numeric value entered, then the first string re-appears in order to allow
entering of a correct value.</p>
<p ALIGN="left">Afterwards, the following string appears:</p>
<p ALIGN="left">NUMBER OUTGOING BRANCHES (01 - 40) ?</p>
<p ALIGN="left">and, possibly, an error message similar to the one previously
shown appears.</p>
<p ALIGN="left">The information relevant to the number of intaking and outgoing
pipes must be also included in the model geometrical data (see Card C).</p>
</font>
<font FACE="Arial" SIZE="4">
<b>
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card C"></a></font>
</p>
            <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE CONA</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD C</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
</b>
          </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Physical and Geometrical Data</p>
</i></font></b><font FACE="Arial">
<p ALIGN="JUSTIFY">In addition to the initial values of input and output
variables of the CONA module, whose meaning has been defined in card B1, the
user must assign the following set of data to complete the input required by the
module:</p>
<!--mstheme--></font><table border="0" width="100%">
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[ ]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">NU.TU.EN</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">number of pipes entering the header</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[ ]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">NU.TU.US</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">number of pipes coming out from the
      header</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m**3]&nbsp;</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">VOLUME</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">header internal volume</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[kg]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">MASS MET</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">total mass of header walls</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[J/kg/K]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">CP MET.</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">specific heat of header walls material</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[W/m²/K]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">COND MET&nbsp;</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">thermal conductivity of header walls
      material</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">SPES MET</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">thickness of header walls</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m²]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">SUP. EST.</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">header external surface</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m²]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">SEZ. SMORZ.</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">damper horizontal section</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="11%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[ ]</font><!--mstheme--></font></td>
    <td width="17%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TIPO NAFTA</font><!--mstheme--></font></td>
    <td width="72%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">index indicating the type of heavy oil
      present in header (for heavy oils classification see documentation
      relevant to &quot;heavy oil properties&quot;)</font><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
<b><font FACE="Arial" SIZE="4">
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card D"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE CONA</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD D</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
<i>
<p ALIGN="CENTER">Module Variables Initialization</p>
</i>
          </font></b>
<font FACE="Arial">
<p ALIGN="left">No particular prescription is required for the CONA module
initialization.</p>
</font>
<b><font FACE="Arial" SIZE="4">
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card E"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE CONA</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD E&nbsp;</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
          </font></b>
<font FACE="Tms Rmn" SIZE="1">
        </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">User's Subprograms</p>
</i></font></b><font FACE="Arial">
<p ALIGN="JUSTIFY">No user’s subprograms are required for this module.</p>
</font>
<b><font FACE="Arial" SIZE="4">
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card F"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE CONA</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD F&nbsp;</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
        </font></b><font FACE="Tms Rmn" SIZE="1">
        </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Residuals</p>
</i></font></b><font FACE="Arial">
<p ALIGN="left">Residuals for the calculation of the steady condition have the
following expression:</p>
<p ALIGN="left"><b><font FACE="Courier New" SIZE="2">&nbsp;&nbsp;&nbsp;</font></b></font><b><font face="Courier New" size="2">
RNI(1) = SUMHE-SUME*HNAF-GAMINN*(TNAF-TM)-GAMAZN*SEZS*(TNAF-TGAS)</font></b></p>
<b><font FACE="Arial" SIZE="3">
<p ALIGN="right">(norm. factor W0*H0)</p>
<p ALIGN="left"><font FACE="Courier New" SIZE="2">&nbsp;&nbsp;&nbsp;</font></font><font face="Courier New" size="2">
</font><font FACE="Arial" SIZE="3"><font FACE="Courier New" SIZE="2">RNI(2) =
SUME+SUMU</font></p>
<p ALIGN="right">(norm. factor W0)</p>
<font FACE="Courier New" SIZE="2">
<p align="left">&nbsp;&nbsp;&nbsp;</font></font><font face="Courier New" size="2">
RNI(3) = TPAR-TM</font></p>
<p align="right"><font FACE="Arial" SIZE="3">(norm. factor T0)</font></p>
<font FACE="Courier New" SIZE="2">
<p>&nbsp;&nbsp;&nbsp; RNI(4) = SEZS*GAMAZN*(TGAS-TNAF)+GAMING*(TGAS-TM)</p>
</font><font FACE="Arial" SIZE="3">
<p ALIGN="right">(norm. factor W0*H0)</p>
<p ALIGN="left"></font></b><font FACE="Arial">with</font></p>
<b><font FACE="Courier New" SIZE="2">
<blockquote>
  <p>VGAS = VOL-VNAF</p>
  <p>TGAS = MMAZ*PNAF*VGAS/(MGAS*RGAS)</p>
</blockquote>
<p>C</p>
<blockquote>
  <p>RIPS = VNAF/VOL</p>
  <p>UMRIPS = 1.-RIPS</p>
</blockquote>
<p>C</p>
<blockquote>
  <p>GAMINN = SUPES*RIPS*GAMET*GAMI/(GAMET+GAMI)</p>
  <p>GAMING = SUPES*UMRIPS*GAMET*GAMAZP/(GAMET+GAMAZP)</p>
  <p>GAMEST = SUPES*GAMET*GAMES/(GAMET+GAMES)</p>
</blockquote>
<p>C</p>
<blockquote>
  <p>TM = (GAMINN*TNAF+GAMING*TGAS+GAMEST*TEST)/</p>
  <p>$ (GAMINN+GAMING+GAMEST)</p>
</blockquote>
</font></b><font FACE="Arial">
<p ALIGN="JUSTIFY">where</p>
<!--mstheme--></font><table border="0" width="100%">
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TGAS&nbsp;</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">gas temperature</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">VGAS</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">volume occupied by gas</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">VOL</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">internal volume of header and damper</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">VNAF</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">volume occupied by heavy oil</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">SEZS</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">area of the damper horizontal section</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">MMAZ</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">nitrogen molar mass</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">RGAS</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">gas universal constant</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">SUPES</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">wall surface (the internal and the external surface
      have been considered as equal)</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">GAMES</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">thermal exchange coefficient between wall
      and outside environment</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">GAMI</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">thermal exchange coefficient between wall
      and heavy oil</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">GAMAZN</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">thermal exchange coefficient between heavy oil and gas</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">GAMAZP</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">thermal exchange coefficient between wall and gas</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">GAMET</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">ratio of thermal conductivity and wall thickness</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">SUME</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">sum of incoming mass flow rates</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">SUMU</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">sum of outgoing mass flow rates</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">SUMHE</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">sum of products between mass flow rates
      and enthalpy of intaking piping</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">ENTN</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">heavy oil enthalpy determined by the
      subprogram for the calculation of heavy oil properties</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">HNAF</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">heavy oil enthalpy</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TNAF</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">heavy oil temperature</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TPAR</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">wall temperature</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="13%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TEST</font><!--mstheme--></font></td>
    <td width="87%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">outside environment temperature</font><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<p ALIGN="left">The expression of residuals for the calculation of the transient
steady state has not been indicated. The user must remark that time derivative
have been expressed in differential equations as finished differences so that
the algebraic-differential equation system has been transformed into a system of
algebraic equations.</p>
</font>
<b><font FACE="Arial" SIZE="4">
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="left"><font SIZE="4"><a name="card G"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE CONA</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD G&nbsp;</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
        </font><font FACE="Courier New" SIZE="2">
        </font></b><font FACE="Tms Rmn" SIZE="1">
        </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Module subprograms</p>
</i></font></b><font FACE="Arial"><b><font FACE="Courier New" SIZE="2">
<p>&nbsp;</p>
<blockquote>
  <p align="left">SUBROUTINE CONAI3 (IFO,IOB,DEBL)</p>
  <p align="left">SUBROUTINE CONAI4 (IOB,MOD)</p>
  <p align="left">SUBROUTINE CONAI2 (IFUN,VAR,MX1,IV1,IV2,XYU,DATI,ID1,ID2,</p>
  <p align="left">$ IBL1,IBL2,IER,CNXYU,TOL)</p>
  <p align="left">SUBROUTINE CONAC1
  (IFUN,AJAC,MX5,IXYU,XYU,IPD,DATI,RNI,IBL1,IBL2)</p>
  <p align="left">SUBROUTINE CONA (IFUN,IXYU,XYU,IPD,DATI,RNI)</p>
  <p align="left">SUBROUTINE CONCPG (T,P,CPN2)</p>
</blockquote>
</font></b></font>
<b><font FACE="Arial" SIZE="4">
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card H"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE CONA</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD H&nbsp;</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
<i>
<p ALIGN="CENTER">Test cases</p>
</i>
        </font></b>
<font FACE="Arial">
<p ALIGN="left">Reference test cases relevant to this module are in the manual
section dedicated to the examples carried out and marked with the tag:</p>
<p ALIGN="CENTER">&quot;HEAVY OIL CIRCUIT&quot;</p>
</font>
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<!--mstheme--></font></body>

</html>
