<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Nuova pagina 1</title>
<meta name="Microsoft Theme" content="copy_of_industrial 011, default">
</head>

<body background="_themes/copy_of_industrial/lego_bg_studs.gif" bgcolor="#FFFFFF" text="#000000" link="#3366CC" vlink="#666666" alink="#996600"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">

<h1 align="center"><!--mstheme--><font color="#000066"><span lang="EN-GB"><b><i><font size="5">An example of LEGO module with no equation (NPSH)</font></i></b></span><!--mstheme--></font></h1>
<p class="MsoNormal"><span lang="EN-GB">The NPSH module computes the net
positive suction head (NPSH) for a pump. The list of the variables of the NPSH
module is the following:&nbsp;<o:p>
</o:p>
</span></p>
<p class="elenco3"><span lang="FR" style="mso-ansi-language:FR"><b><font size="2" face="Courier New">LPSH (UA)
DISPOSABLE PUMP NPSH<o:p>
</o:p>
</font></b>
</span></p>
<p class="elenco3"><span lang="EN-GB"><b><font size="2" face="Courier New">PCAV (IN) PRESSURE IN THE TANK</font></b></span></p>
<p class="elenco3"><span lang="EN-GB"><b><font size="2" face="Courier New">PASP (IN) PRESSURE AT SUCTION FLANGE OF
THE PUMP</font></b></span></p>
<p class="elenco3"><span lang="EN-GB"><b><font size="2" face="Courier New">HASP (IN) ENTHALPY AT SUCTION FLANGE OF
THE PUMP</font></b></span></p>
<p class="MsoNormal"><span lang="EN-GB">The source code of NPSHC1 is the
following (source code is a bit modified and comment line has been added or
translated for legibility reasons):&nbsp;<o:p>
</o:p>
</span></p>
<p class="elenco3"><span lang="EN-GB"><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font face="Courier New" size="2">
</font></b>
</span><b><font face="Courier New" size="2">SUBROUTINE NPSHC1(IFUN,AJAC,MX5,IXYU,XYU,IPD,DATI,RNI,IBL1,IBL2)</font></b></span></p>
<p class="elenco3"><span style="mso-ansi-language:IT"><font face="Courier New" size="2"><b>C<o:p>
</o:p>
</b></font>
</span></p>
<p class="elenco3"><span style="mso-ansi-language:IT"><font face="Courier New" size="2"><b><span style="mso-spacerun:
yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>DIMENSION AJAC(MX5,*),XYU(*),DATI(*),RNI(*)<o:p>
</o:p>
</b></font>
</span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>LOGICAL KREGIM</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>COMMON/NORM/P0,H0,T0,W0,RO0,AL0,V0,DP0</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>COMMON/REGIME/KREGIM</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>COMMON/INTEGR/TSTOP,TEMPO,DTINT,NPAS,CDT</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>COMMON/PARPAR/NPER,NVPLT,NVSTP,NSTPLT,NSTSTP,KPLT,KSTP,ITERT</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>COMMON/NEQUAZ/NEQMOD</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>REAL LPSH,PCAV,PASP,HASP,NPSHC</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C---DISPOSABLE NPSH FOR A PUMP</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>output values computation</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>NEQMOD=0</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>IF (IFUN .NE. 2) RETURN</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C---variables decoding</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>LPSH = XYU(IXYU<span style="mso-spacerun: yes">&nbsp; </span>)</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>PCAV = XYU(IXYU+1)*P0</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>PASP = XYU(IXYU+2)*P0</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>HASP = XYU(IXYU+3)*H0</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C---PHSAT and SHEV are library routines
(water and steam tables)</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C<span style="mso-spacerun: yes">&nbsp;&nbsp;
</span>enthalpy value is limited using the H2O tables bounds</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>IF (HASP .GT. 4200.E3) THEN</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>HASP = 4200.E3</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ELSE IF (HASP .LT. 0.) THEN</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>HASP = 0.</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ENDIF</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>PSAT=PHSAT(HASP)</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>SASP=SHEV(PASP,HASP,1)</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>NPSHC=(PASP-PSAT)/9.8066/ROEV(PASP,SASP,1)</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C---output values assignment</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>IF (KREGIM) THEN</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C-------steady state</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>XYU(IXYU) = NPSHC</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ELSE</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C-------transient</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>RNI(1) = NPSHC</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ENDIF</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b>C</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>RETURN</b></font></span></p>
<p class="elenco3"><span lang="EN-GB"><font face="Courier New" size="2"><b><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>END</b></font></span></p>

<!--mstheme--></font></body>

</html>
