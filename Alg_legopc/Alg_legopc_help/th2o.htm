<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>TH2O</title>
<meta name="Microsoft Theme" content="copy_of_industrial 011, default">
</head>

<body background="_themes/copy_of_industrial/lego_bg_studs.gif" bgcolor="#FFFFFF" text="#000000" link="#3366CC" vlink="#666666" alink="#996600"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<p ALIGN="left"><b><font SIZE="4"><a name="Top"></a></font></b>
</p>
<p ALIGN="left">&nbsp;
</p>
<!--mstheme--></font><table border="1" width="100%" bgcolor="#FFCC66" bordercolordark="#000000" bordercolorlight="#666666">
  <tr>
    <td width="100%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><p align="center"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<b><font SIZE="4">
<i>
<p ALIGN="CENTER">Summary</p>
</i></font></b>
<blockquote>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card A">model
  generalities</a> </p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card B">topological
  data</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card C">physical
  and geometrical data</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card D">module
  variables initialization</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card E">user's
  subprograms</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card F">residuals</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card G">module
  subprograms</a></p>
  <p ALIGN="JUSTIFY"><font FACE="Symbol">·</font> <a href="#card H">test cases</a></p>
</blockquote>
<blockquote>
  <p ALIGN="JUSTIFY">&nbsp;</p>
</blockquote>
<p ALIGN="left"><font SIZE="4"><b><a name="card A"></a></b></font> </p>
<p ALIGN="left">&nbsp; </p>
<b><font SIZE="4">
<!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD A</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
</font><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Model Generalities</p>
</i></font></b>
<font FACE="Arial">
<p ALIGN="CENTER">WATER EXCHANGER</p>
<p>&nbsp;</p>
<p align="left">The TH2O module simulates the dynamics of thermo-hydraulic
phenomena which subcooled water is subjected flowing through a metallic piping
(or tube bundle) able to exchange heat with outside.</p>
<p align="left">The module mathematical model is based on the following
hypoteses:</p>
<p ALIGN="left">- the piping is subdivided, along its main axis, in an arbitrary
number of cells which may or not exchange heat with outside</p>
<p ALIGN="left">- the piping wall has a thin thickness as regards to the
diameter</p>
<p ALIGN="left">- the water density is constant</p>
<p ALIGN="left">- in conservation equation of momentum, the water inertia is
negligible</p>
<p ALIGN="left">- water backflow inside the piping is not considered</p>
<p ALIGN="left">- heat longitudinal conduction is negligible</p>
<p ALIGN="left">- thermal exchange between piping external surface and fluid
licking it occurs in a certain number of thermal exchange &quot;zones&quot;.
Each of these can include several axial cells.</p>
<p align="left">The used equations are:</p>
<p ALIGN="left">1) conservation equation of water momentum</p>
<p ALIGN="left">2) energy conservation equation in the water</p>
<p ALIGN="left">3) energy conservation equation in the piping wall metal</p>
<p ALIGN="left">4) thermal exchange equation between the piping external surface
and fluid licking it.</p>
<p align="left">In the equations 1), 2) and 3) the concentrated parameter
monodimensional approximation is used, so the energy and momentum balances are
carried out for each single cell. Nevertheless, in energy balances the
contributions of single cells are separated whereas in momentum balances they
are added, giving rise to only one equation determinating the head loss in the
whole piping.</p>
<p align="left">The equation 4) is applied to each thermal exchange zone
allowing the calculation of the mean temperature on the piping external surface.</p>
<p align="left">The TH2O module can be used in simulating of connection pipes or
tube bundle of surface-type exchangers containing subcooled water (heaters,
condenser, etc.). In order to simulate the whole component (in case of tube
bundle) several modules (like RISO, COND etc.) has to be interconnected with
TH2O module. This is able to simulate the behaviour of a two phase fluid in
contact with the tube bundle external surface.</p>
<p ALIGN="left">If the piping (or tube bundle) to simulate has concentrated head
losses (e.g. elbows or reduction fittings), they have to be distributed on the
whole piping, incorporating them in an equivalent friction coefficient. The
coefficient value can be calculated under stationary condition, considering
suitable boundary conditions.</p>
</font>
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="left"><b><font SIZE="4"><a name="card B"></a> </p>
<!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD B</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font></b>
<font FACE="Arial">
          </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Topological data</p>
</i></font></b><font FACE="Arial">
<p ALIGN="CENTER">INPUT-OUTPUT SCHEME</p>
<p ALIGN="left">&nbsp;</p>
<p ALIGN="JUSTIFY">NCEL = number of cells</p>
<p ALIGN="JUSTIFY">NZON = number of thermal exchange zones</p>
<p>&nbsp;</p>
<p>The module can be interconnected with other ones following three methods:</p>
<p>&nbsp;</p>
<p ALIGN="JUSTIFY">1) output in flow rate</p>
<p ALIGN="JUSTIFY">prescription about block name: none</p>
<p ALIGN="center"><font FACE="Arial" SIZE="2"><img SRC="images/Image797.gif" width="471" height="181"></font></p>
<p ALIGN="JUSTIFY">2) output in inlet pressure</p>
<p ALIGN="JUSTIFY">prescription about block name: preceded by '+' sign</p>
<p ALIGN="JUSTIFY">&nbsp;</p>
<p ALIGN="center"><font FACE="Arial" SIZE="2"><img SRC="images/Image798.gif" width="471" height="181"></font></p>
<p ALIGN="center">&nbsp;</p>
<p ALIGN="JUSTIFY">3) output in outlet pressure</p>
<p ALIGN="JUSTIFY">prescription about block name: preceded by '-' sign</p>
<p ALIGN="JUSTIFY">&nbsp;</p>
<p ALIGN="center"><font FACE="Arial" SIZE="2"><img SRC="images/Image799.gif" width="471" height="181"></font></p>
<p ALIGN="CENTER">&nbsp;</p>
<p ALIGN="CENTER">PHYSICAL MEANING OF MODULE INPUT-OUTPUT VARIABLES</p>
<!--mstheme--></font><table border="0" width="100%" height="167">
  <tr>
    <td width="10%" height="19"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[J/kg]</font><!--mstheme--></font></td>
    <td width="18%" height="19"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">HITU</font><!--mstheme--></font></td>
    <td width="72%" height="19"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">enthalpy of water at the
      piping inlet</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[kg/s]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">WTUB</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">water flow rate inside piping</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[Pa]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">PITU</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">pressure at the piping inlet</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[ ]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">ATTR</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">piping friction coefficient (see
      note 1)</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[W]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">QE(j)</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">(j = 1, NZON) thermal power
      exchanghed by the j-th zone (see note 2)</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[J/kg]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">HU(i)</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">(i = 1, NCEL-1) enthalpy of
      water at the i-th cell outlet</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[J/kg]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">HUTU</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">enthalpy of water at the tube
      outlet</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[K]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TM(i)</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">(i = 1, NCEL) metal mean
      temperature of the i-th cell</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[K]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">TE(j)</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">(j = 1, NZON) external
      surface temperature of piping in the j-th thermal exchange zone</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[Pa]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">PUTU</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">pressure at the piping outlet</font><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b>
<p ALIGN="RIGHT">Note 1</p>
</b>
<p align="left">The module refers to the Fanning's friction coefficient which
has the following formula:</p>
</font><font FACE="Courier New" SIZE="2">
<p ALIGN="CENTER"><img SRC="images/Image800.gif" width="253" height="49"></p>
</font>
<p ALIGN="left"><font face="Arial">where:</font></p>
<p ALIGN="left"><font face="Arial">- RO is the fluid density</font></p>
<p ALIGN="left"><font face="Arial">- &lt;v&gt; is the mean speed</font></p>
<p ALIGN="left"><font face="Arial">The remaining variables have the physical
meaning indicated above and below.</p>
<b>
<p ALIGN="RIGHT">Note 2</p>
</b>
<p ALIGN="left">The exchanged thermal power between the piping external surface
and fluid licking it is positive whether the surface gives up heat to the fluid.</p>
</font>
<font FACE="Arial" SIZE="4">
<b>
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card C"></a></font>
</p>
            <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD C</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
</b>
          </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Physical and Geometrical Data</p>
</i></font></b><font FACE="Arial">
<p align="left">In addition to the initial value of input-output variables, user
must assign the following data:</p>
<p align="left">Data related to the whole considered piping:</p>
<!--mstheme--></font><table border="0" width="100%" height="127">
  <tr>
    <td width="10%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[kg/m³]</font><!--mstheme--></font></td>
    <td width="18%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">ROM</font><!--mstheme--></font></td>
    <td width="72%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">piping metal density</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[J/kg/K]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">CP MET.</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">
      <p ALIGN="JUSTIFY">specific heat of piping metal</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[W/m/K]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">COND.MET</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">thermal conductivity of
      piping metal</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">DELZ</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">geodetic gap between the
      piping inlet and outlet (positive if the outlet side is higher the inlet
      one).</font><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<p>Data related to the single cells:</p>
<!--mstheme--></font><table border="0" width="100%" height="140">
  <tr>
    <td width="10%" height="19"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[ ]</font><!--mstheme--></font></td>
    <td width="18%" height="19"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">NTUB</font><!--mstheme--></font></td>
    <td width="72%" height="19"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">number of pipes in parallel
      configuration</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m]</font><!--mstheme--></font></td>
    <td width="18%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">LUNG&nbsp;</font><!--mstheme--></font></td>
    <td width="72%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">length of pipes in parallel
      configuration</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[ ]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">ZONA</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">thermal exchange zone which
      the cell belong</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">DIAI</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">internal diameter of pipes in
      parallel configuration</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[m]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">DIAE</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">external diameter of pipes in
      parallel configuration</font><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<p align="left">If several consecutive cells have the same geometrical data, it
is enough to assign those related to the first cell. To the following cells the
same data are automatically assigned.</p>
<p align="left">As other metal physical properties, thermal conductivity is
considered constant. Nevertheless, if necessary, a law giving the thermal
conductivity as a function of temperature can be introduced by using the user
subprogram</p>
<p align="left">SUBROUTINE COND03(ICO, T, COND)</p>
<p ALIGN="left">&nbsp;</p>
<p ALIGN="left">(see below). In this case, a negative value has to be assigned
to the COND.MET. It acts both as user subprogram calling signal and selection
index if several correlations in an only user subprogram has to be assigned.</p>
</font>
<b><font FACE="Arial" SIZE="4">
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card D"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD D</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
<i>
<p ALIGN="CENTER">Module Variables Initialization</p>
</i>
          </font></b>
<font FACE="Arial">
<p align="left">To initialize the TH2O module variables no particular
prescription is required.</p>
</font>
<b><font FACE="Arial" SIZE="4">
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card E"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD E&nbsp;</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
          </font></b>
<font FACE="Tms Rmn" SIZE="1">
        </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">User's Subprograms</p>
</i></font></b><font FACE="Arial">
<p>&nbsp;</p>
<p>To introduce into the module one law giving the thermal conductivity as a
function of metal temperature, user must assign to the COND.MET a negative value
writing a user subprogram whose declarative statement is:</p>
<p>SUBROUTINE COND03(ICO, T, COND).</p>
<p ALIGN="JUSTIFY">Input parameters: ICO, T</p>
<p ALIGN="JUSTIFY">Output parameters: COND</p>
<!--mstheme--></font><table border="0" width="100%" height="78">
  <tr>
    <td width="10%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[ ]</font><!--mstheme--></font></td>
    <td width="18%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">ICO</font><!--mstheme--></font></td>
    <td width="72%" height="1"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">selection index of correlation
      to use for thermal conductivity calculation if several correlations
      through only one subprogram has to be introduced (see note 3)</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[K]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">T</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">metal temperature</font><!--mstheme--></font></td>
  </tr>
  <tr>
    <td width="10%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">[W/m/K]</font><!--mstheme--></font></td>
    <td width="18%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">COND</font><!--mstheme--></font></td>
    <td width="72%" height="20"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><font FACE="Arial">metal thermal conductivity.</font><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
<p align="left">An example of SUBROUTINE COND03(ICO, T, COND) related to a
linear dependence of temperature thermal conductivity is following:</p>
</font><b><font FACE="Courier New" SIZE="2">
<p style="margin-top: 2; margin-bottom: 2">SUBROUTINE COND03(ICO, T, COND)</p>
<p style="margin-top: 2; margin-bottom: 2">GO TO (1,2,2,2) ICO</p>
<p style="margin-top: 2; margin-bottom: 2">1 COND=9.872+.0153*T</p>
<p style="margin-top: 2; margin-bottom: 2">2 RETURN</p>
<p style="margin-top: 2; margin-bottom: 2">END</p>
</font><font FACE="Arial">
<p ALIGN="RIGHT">Note 3</p>
</font></b><font FACE="Arial">
<p align="left">After checking that COND.MET has negative value, and use of user
subprogram SUBROUTINE COND03(ICO, T, COND) is consequently required, used has to
assign:</p>
<p align="left">ICO = - COND.MET</p>
<p ALIGN="left">whose effect is to assign to ICO the positive integer obtained
changing the COND.MET value sign and eliminating the decimal part.</p>
<p ALIGN="center"></font><b><font FACE="Arial" SIZE="4"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card F"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD F&nbsp;</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
        </font></b><font FACE="Tms Rmn" SIZE="1">
        </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Residuals</p>
</i></font></b><font FACE="Arial">
<p align="left">The residuals present in the module directly correspond to the
equation mentioned in first paragraph. Here are only indicated the
correspondences between residuals and equations. Further explanations are given
in section of the manual &quot;LEGOCAD-Modelling for Simulation of Power
Generation Plants-Theory&quot;.</p>
<p ALIGN="left">i = 1, NCEL</p>
<p ALIGN="left">j = 1, NZON</p>
<p align="left">&nbsp;</p>
<p align="left">1) RNI(i) - normalization factor = W0*H0</p>
<p align="left">they are related, cell by cell, to the energy balance of water
flowing through the piping</p>
<p align="left">2) RNI(NCEL+i) - normalization factor = W0*H0</p>
<p align="left">they are related, cell by cell, to the energy balance in piping
metal</p>
<p align="left">3) RNI(2*NCEL+1) - normalization factor = P0</p>
<p align="left">it is related to the equation of piping total head loss</p>
<p align="left">4) RNI(2*NCEL+1+j)- normalization factor = T0</p>
<p ALIGN="left">they are related, zone by zone, to the thermal exchange equation
between piping external surface and fluid licking it.</p>
</font>
<b><font FACE="Arial" SIZE="4">
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="left"><font SIZE="4"><a name="card G"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD G&nbsp;</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
        </font><font FACE="Courier New" SIZE="2">
        </font></b><font FACE="Tms Rmn" SIZE="1">
        </font>
<b><font FACE="Arial" SIZE="4"><i>
<p ALIGN="CENTER">Module subprograms</p>
</i></font><font FACE="Courier New" SIZE="2">
<p>&nbsp;</p>
<p align="left">SUBROUTINE TH2OI3(IFO, IOB, DEBL)</p>
<p align="left">SUBROUTINE TH2OI4(IOB, MOD)</p>
<p align="left">SUBROUTINE TH2OI2(IFUN, VAR, MX1, IV1, IV2, XYU, DATI, ID1, ID2,</p>
<p align="left">$ IBLOC1, IBLOC2, IER, CNXYU, TOL)</p>
<p align="left">SUBROUTINE TH2OC1(IFUN, AJAC, MX5, IXYU, XYU, IPD, DATI, RNI,</p>
<p align="left">$ IBLOC1, IBLOC2)</p>
<p align="left">SUBROUTINE COND03(ICO, T, COND)</p>
<p align="left">SUBROUTINE GAM03(GAM, DGAM, W, A, D, P, T)</p>
<p align="left">FUNCTION DITBOE(G, D, CP, MU, LAM)</p>
<p align="center"></font><font FACE="Arial" SIZE="4"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<p ALIGN="JUSTIFY"><font SIZE="4"><a name="card H"></a></font>
</p>
        <font SIZE="4"><!--mstheme--></font><table border="0" width="100%" bgcolor="#33CCCC">
  <tr>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"><b><font SIZE="4">MODULE TH2O</font></b><!--mstheme--></font></td>
    <td width="50%"><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica">
      <p align="right"><b><font SIZE="4">CARD H&nbsp;</font></b><!--mstheme--></font></td>
  </tr>
</table><!--mstheme--><font face="Trebuchet MS, Arial, Helvetica"></font>
<i>
<p ALIGN="CENTER">Test cases</p>
</i>
        </font></b><font FACE="Arial">
<p align="left">Reference test cases related to this module are in the manual
section dedicated to the examples developed under the abbreviations:</p>
<p ALIGN="CENTER">&quot;CONDENSA&quot;</p>
<p ALIGN="CENTER">&quot;MOTORE&quot;</p>
<p ALIGN="CENTER">&quot;POMPE&quot;</p>
</font>
<p ALIGN="center"><a href="#Top"><img border="0" src="images/adiv.h1.gif" width="48" height="20"></a></p>
<!--mstheme--></font></body>

</html>
